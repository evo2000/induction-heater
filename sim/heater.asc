Version 4
SHEET 1 1684 1544
WIRE -144 -160 -208 -160
WIRE -128 -160 -144 -160
WIRE 928 -160 864 -160
WIRE 944 -160 928 -160
WIRE 1152 -160 1088 -160
WIRE 1168 -160 1152 -160
WIRE -208 -144 -208 -160
WIRE 864 -144 864 -160
WIRE 1088 -144 1088 -160
WIRE 768 -96 640 -96
WIRE 1024 -96 992 -96
WIRE 352 -80 336 -80
WIRE 416 -80 352 -80
WIRE 704 -64 640 -64
WIRE 720 -64 704 -64
WIRE 416 -48 224 -48
WIRE -208 -32 -208 -64
WIRE -208 -32 -256 -32
WIRE 864 -32 864 -64
WIRE 864 -32 640 -32
WIRE 992 -32 992 -96
WIRE 992 -32 864 -32
WIRE 1088 -32 1088 -48
WIRE 1248 -32 1088 -32
WIRE 1280 -32 1248 -32
WIRE -1184 -16 -1264 -16
WIRE -1168 -16 -1184 -16
WIRE -976 -16 -1040 -16
WIRE -960 -16 -976 -16
WIRE -608 -16 -736 -16
WIRE -320 -16 -384 -16
WIRE -304 -16 -320 -16
WIRE 352 -16 336 -16
WIRE 416 -16 352 -16
WIRE 1088 -16 1088 -32
WIRE -208 0 -208 -32
WIRE 144 0 80 0
WIRE 160 0 144 0
WIRE 768 0 640 0
WIRE -1264 16 -1264 -16
WIRE -1040 16 -1040 -16
WIRE 80 16 80 0
WIRE 992 32 992 -32
WIRE 1024 32 992 32
WIRE -672 48 -688 48
WIRE -608 48 -672 48
WIRE -256 48 -256 -32
WIRE -256 48 -384 48
WIRE -608 112 -688 112
WIRE -320 112 -384 112
WIRE -208 112 -208 80
WIRE -208 112 -320 112
WIRE 1088 112 1088 80
WIRE -1264 128 -1264 96
WIRE -1264 128 -1344 128
WIRE -1040 128 -1040 96
WIRE 80 128 80 96
WIRE 224 128 224 -48
WIRE 224 128 80 128
WIRE -208 144 -208 112
WIRE -1344 160 -1344 128
WIRE -1264 160 -1264 128
WIRE 80 160 80 128
WIRE -672 176 -688 176
WIRE -608 176 -672 176
WIRE -352 176 -384 176
WIRE 928 192 864 192
WIRE 944 192 928 192
WIRE 1152 192 1088 192
WIRE 1168 192 1152 192
WIRE -352 208 -352 176
WIRE 864 208 864 192
WIRE 1088 208 1088 192
WIRE -208 240 -208 208
WIRE 768 256 640 256
WIRE 1024 256 992 256
WIRE 80 272 80 240
WIRE 224 272 224 128
WIRE 416 272 224 272
WIRE -1264 288 -1264 240
WIRE -1184 288 -1264 288
WIRE -1168 288 -1184 288
WIRE -640 288 -688 288
WIRE -608 288 -640 288
WIRE 704 288 640 288
WIRE 720 288 704 288
WIRE -352 304 -352 272
WIRE 352 304 336 304
WIRE 416 304 352 304
WIRE -688 320 -688 288
WIRE 864 320 864 288
WIRE 864 320 640 320
WIRE 992 320 992 256
WIRE 992 320 864 320
WIRE 1088 320 1088 304
WIRE 1248 320 1088 320
WIRE 1280 320 1248 320
WIRE 352 336 336 336
WIRE 416 336 352 336
WIRE 1088 336 1088 320
WIRE 768 352 640 352
WIRE 992 384 992 320
WIRE 1024 384 992 384
WIRE -688 432 -688 400
WIRE 1088 464 1088 432
WIRE -288 752 -480 752
WIRE -80 752 -288 752
WIRE 848 768 688 768
WIRE 1072 768 912 768
WIRE -944 784 -1008 784
WIRE -928 784 -944 784
WIRE -480 784 -480 752
WIRE -80 784 -80 752
WIRE -944 864 -1008 864
WIRE -928 864 -944 864
WIRE -592 864 -608 864
WIRE -528 864 -592 864
WIRE 32 864 -32 864
WIRE 48 864 32 864
WIRE -944 912 -1008 912
WIRE -928 912 -944 912
WIRE 320 928 304 928
WIRE 384 928 320 928
WIRE 528 928 464 928
WIRE 688 928 688 768
WIRE 688 928 592 928
WIRE 1072 928 1072 768
WIRE 1264 928 1072 928
WIRE 1280 928 1264 928
WIRE -592 944 -608 944
WIRE -480 944 -480 880
WIRE -480 944 -592 944
WIRE -384 944 -480 944
WIRE -368 944 -384 944
WIRE -192 944 -208 944
WIRE -80 944 -80 880
WIRE -80 944 -192 944
WIRE 32 944 -80 944
WIRE 48 944 32 944
WIRE -1280 976 -1296 976
WIRE -1216 976 -1280 976
WIRE -944 992 -1008 992
WIRE -928 992 -944 992
WIRE -480 1008 -480 944
WIRE -80 1008 -80 944
WIRE -944 1040 -1008 1040
WIRE -928 1040 -944 1040
WIRE -1280 1056 -1296 1056
WIRE -1216 1056 -1280 1056
WIRE -592 1088 -608 1088
WIRE -528 1088 -592 1088
WIRE 32 1088 -32 1088
WIRE 48 1088 32 1088
WIRE 688 1088 688 928
WIRE 752 1088 688 1088
WIRE 928 1088 832 1088
WIRE 1072 1088 1072 928
WIRE 1072 1088 1008 1088
WIRE -944 1120 -1008 1120
WIRE -928 1120 -944 1120
WIRE -944 1168 -1008 1168
WIRE -928 1168 -944 1168
WIRE -592 1168 -608 1168
WIRE -480 1168 -480 1104
WIRE -480 1168 -592 1168
WIRE -288 1168 -480 1168
WIRE -80 1168 -80 1104
WIRE -80 1168 -288 1168
WIRE 32 1168 -80 1168
WIRE 48 1168 32 1168
WIRE -944 1248 -1008 1248
WIRE -928 1248 -944 1248
FLAG -1344 160 0
FLAG -1184 -16 hv+
FLAG -1184 288 hv-
FLAG -736 -16 0
FLAG -208 240 0
FLAG -320 -16 lv+
FLAG -672 176 lv+
FLAG -320 112 trig
FLAG -672 48 trig
FLAG -1040 128 0
FLAG -976 -16 lv+
FLAG 80 272 0
FLAG 144 0 lv+
FLAG 352 304 555_out
FLAG 1248 -32 pri1+
FLAG 1248 320 pri1-
FLAG 768 0 0
FLAG 768 352 0
FLAG 352 -16 lv+
FLAG 928 -160 lv+
FLAG 928 192 lv+
FLAG 1088 464 0
FLAG 1088 112 0
FLAG 1152 -160 lv+
FLAG 1152 192 lv+
FLAG 352 336 lv+
FLAG -592 864 sec1+
FLAG -592 944 sec1-
FLAG -592 1088 sec3-
FLAG -592 1168 sec3+
FLAG 32 864 sec2-
FLAG 32 944 sec2+
FLAG 32 1088 sec4+
FLAG 32 1168 sec4-
FLAG -944 784 sec1+
FLAG -944 864 sec1-
FLAG -944 912 sec2+
FLAG -944 992 sec2-
FLAG -944 1040 sec3+
FLAG -944 1120 sec3-
FLAG -944 1168 sec4+
FLAG -944 1248 sec4-
FLAG -1280 976 pri1+
FLAG -1280 1056 pri1-
FLAG 768 -96 0
FLAG 768 256 0
FLAG -688 432 0
FLAG -352 304 0
FLAG -144 -160 lv+
FLAG -640 288 555_out
FLAG 352 -80 555_out
FLAG 704 -64 lv+
FLAG 704 288 lv+
FLAG -384 944 load+
FLAG -192 944 load-
FLAG -288 752 hv+
FLAG -288 1168 hv-
FLAG 320 928 load+
FLAG 1264 928 load-
SYMBOL voltage -1264 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -1264 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL cap -224 144 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL voltage -1040 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL AutoGenerated\\LM311 528 -48 R0
SYMATTR InstName U2
SYMBOL res 64 0 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 64 144 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 848 -160 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL AutoGenerated\\LM311 528 304 R0
SYMATTR InstName U3
SYMBOL res 848 192 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL npn 1024 -144 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 1024 208 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL pnp 1024 80 M180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL pnp 1024 432 M180
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL ind2 -1232 1072 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value 1.9m
SYMATTR Type ind
SYMBOL ind2 -992 880 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 1.9m
SYMATTR Type ind
SYMBOL ind2 -992 1008 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 1.9m
SYMATTR Type ind
SYMBOL ind2 -992 1136 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L4
SYMATTR Value 1.9m
SYMATTR Type ind
SYMBOL ind2 -992 1264 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value 1.9m
SYMATTR Type ind
SYMBOL nmos -528 784 R0
SYMATTR InstName M3
SYMATTR Value IRF540
SYMBOL Misc\\NE555 -496 80 R0
SYMATTR InstName U1
SYMBOL voltage -688 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(6 1 60k)
SYMBOL res -224 -16 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap -368 208 R0
SYMATTR InstName C2
SYMATTR Value 0.1n
SYMBOL res -224 -160 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL nmos -528 1008 R0
SYMATTR InstName M1
SYMATTR Value IRF540
SYMBOL nmos -32 784 M0
SYMATTR InstName M2
SYMATTR Value IRF540
SYMBOL nmos -32 1008 M0
SYMATTR InstName M4
SYMATTR Value IRF540
SYMBOL ind 368 944 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L6
SYMBOL cap 528 944 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMBOL ind 736 1104 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L7
SYMBOL res 912 1104 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMBOL cap 848 784 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
TEXT -1088 280 Left 2 !.tran 100u
TEXT -1304 392 Left 2 ;TODO: replace V3 with regulator
TEXT -1408 -240 Left 2 ;Power and simulation
TEXT -800 -240 Left 2 ;555 timer oscillator
TEXT 0 -240 Left 2 ;311 comparators and push-pull pairs
TEXT -1408 560 Left 2 ;1:1:1:1:1 transformer
TEXT -736 560 Left 2 ;H-bridge
TEXT -1216 680 Left 2 !K L1 L2 L3 L4 L5 0.999
TEXT -352 448 Left 2 ;TODO: fix this
TEXT -1232 1408 Left 2 ;'Transistors and diodes' at http://www.bordodynov.ltwiki.org/\nhttps://www.ti.com/product/LM311
TEXT -1408 1360 Left 2 ;Dependencies
TEXT -1376 1408 Left 2 ;IRF540\nLM311
TEXT 224 560 Left 2 ;Load
TEXT 720 1008 Left 2 ;Induction coil
TEXT 640 672 Left 2 ;LC tank (high current)
LINE Normal -1104 1248 -1104 784
LINE Normal -1120 1248 -1120 784
RECTANGLE Normal -64 512 -800 -224 2
RECTANGLE Normal -864 512 -1408 -224 2
RECTANGLE Normal -800 1312 -1408 576 2
RECTANGLE Normal 1344 512 0 -224 2
RECTANGLE Normal -480 1472 -1408 1376 2
RECTANGLE Normal 1120 688 640 1184 2
RECTANGLE Normal 160 1312 -736 576 2
RECTANGLE Normal 1344 1312 224 576 2
RECTANGLE Normal 1040 1152 720 1024 2
